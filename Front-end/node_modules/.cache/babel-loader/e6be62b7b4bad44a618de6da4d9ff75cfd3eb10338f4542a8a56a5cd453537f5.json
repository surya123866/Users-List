{"ast":null,"code":"import React,{useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{updateUser}from\"../../../actions/actions\";import\"./styles.scss\";import{Link,useParams,useNavigate}from\"react-router-dom\";import Header from\"../../header/header\";import Footer from\"../../footer/footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const EditUserDetails=()=>{const{userId}=useParams();const users=useSelector(state=>state.users);const user=users.find(eachUser=>eachUser._id===userId);const dispatch=useDispatch();const navigate=useNavigate();// Use optional chaining to safely access user properties\nconst userName=(user===null||user===void 0?void 0:user.name)||\"\";const userEmail=(user===null||user===void 0?void 0:user.email)||\"\";const userMobile=(user===null||user===void 0?void 0:user.mobile)||\"\";const[name,setName]=useState(userName);const[email,setEmail]=useState(userEmail);const[mobile,setMobile]=useState(userMobile);const[error,setError]=useState(\"\");const handleUpdateUser=()=>{if(name||email||mobile){const createdAt=new Date();const updatedUser={userId,name,email,mobile,createdAt};dispatch(updateUser(updatedUser));navigate(\"/\");}else{setError(\"All Fields Required\");}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"Edit-user\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs-container\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value.replace(/[^A-Za-z ]/g,\"\")),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Email:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,onChange:e=>setEmail(e.target.value.replace(/[^A-Za-z0-9@.]/g,\"\")),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Mobile:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:mobile,onChange:e=>setMobile(e.target.value.replace(/[^0-9]/g,\"\")),required:true})]})]}),error&&/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdateUser,children:\"Update\"}),/*#__PURE__*/_jsx(Link,{style:{textDecoration:\"none\"},to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Cancel\"})})]})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default EditUserDetails;","map":{"version":3,"names":["React","useState","useSelector","useDispatch","updateUser","Link","useParams","useNavigate","Header","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditUserDetails","userId","users","state","user","find","eachUser","_id","dispatch","navigate","userName","name","userEmail","email","userMobile","mobile","setName","setEmail","setMobile","error","setError","handleUpdateUser","createdAt","Date","updatedUser","children","className","type","value","onChange","e","target","replace","required","onClick","style","textDecoration","to"],"sources":["C:/Users/Santosh Kommanapalli/OneDrive/Desktop/users-dashboard/front-end/src/components/dashoboard/EditUserDetails/EditUserDetails.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { updateUser } from \"../../../actions/actions\";\r\nimport \"./styles.scss\";\r\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\r\nimport Header from \"../../header/header\";\r\nimport Footer from \"../../footer/footer\";\r\n\r\nconst EditUserDetails = () => {\r\n  const { userId } = useParams();\r\n  const users = useSelector((state) => state.users);\r\n  const user = users.find((eachUser) => eachUser._id === userId);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  // Use optional chaining to safely access user properties\r\n  const userName = user?.name || \"\";\r\n  const userEmail = user?.email || \"\";\r\n  const userMobile = user?.mobile || \"\";\r\n\r\n  const [name, setName] = useState(userName);\r\n  const [email, setEmail] = useState(userEmail);\r\n  const [mobile, setMobile] = useState(userMobile);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const handleUpdateUser = () => {\r\n    if (name || email || mobile) {\r\n      const createdAt = new Date();\r\n      const updatedUser = { userId, name, email, mobile, createdAt };\r\n      dispatch(updateUser(updatedUser));\r\n      navigate(\"/\");\r\n    } else {\r\n      setError(\"All Fields Required\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"Edit-user\">\r\n        <h2>Edit Details</h2>\r\n        <div className=\"inputs-container\">\r\n          <label>\r\n            Name:\r\n            <input\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={(e) =>\r\n                setName(e.target.value.replace(/[^A-Za-z ]/g, \"\"))\r\n              }\r\n              required\r\n            />\r\n          </label>\r\n          <label>\r\n            Email:\r\n            <input\r\n              type=\"text\"\r\n              value={email}\r\n              onChange={(e) =>\r\n                setEmail(e.target.value.replace(/[^A-Za-z0-9@.]/g, \"\"))\r\n              }\r\n              required\r\n            />\r\n          </label>\r\n          <label>\r\n            Mobile:\r\n            <input\r\n              type=\"text\"\r\n              value={mobile}\r\n              onChange={(e) => setMobile(e.target.value.replace(/[^0-9]/g, \"\"))}\r\n              required\r\n            />\r\n          </label>\r\n        </div>\r\n        {error && <p>{error}</p>}\r\n        <div className=\"buttons\">\r\n          <button onClick={handleUpdateUser}>Update</button>\r\n          <Link style={{ textDecoration: \"none\" }} to={\"/\"}>\r\n            <button>Cancel</button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditUserDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}